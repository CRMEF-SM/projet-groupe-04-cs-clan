<!DOCTYPE html>
<title data-l10n-id="title">Logo Interpreter</title>
<meta charset="utf-8">

<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=0, width=device-width">

<link rel="alternate" type="application/atom+xml" href="https://github.com/inexorabletash/jslogo/commits/master.atom">
<link rel="shortcut icon" href="images/favicon.png">

<script src="https://cdn.rawgit.com/inexorabletash/polyfill/v0.1.29/polyfill.min.js"></script>

<!-- CodeMirror, add-ons, and Logo-specific highlighting -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.61.1/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.61.1/addon/runmode/runmode.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.61.1/addon/edit/closebrackets.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.61.1/addon/edit/matchbrackets.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.61.1/addon/display/placeholder.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.61.1/codemirror.css">
<script src="Components/cm/logo.js"></script>

<link rel="stylesheet" href="Styles/logo2.css">
<link rel="stylesheet" href="Styles/index_p.css">
<link rel="stylesheet" href="Styles/styles_p.css">

<body class="single">

  <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
    <div class="container">
        <a class="navbar-brand" href="">Code Turtule</a>
        <button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            Menu
            <i class="fas fa-bars"></i>
        </button>
            Interpréteur logo
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="">Rechercher</a></li>
            </ul>
        </div>
</nav>

<div id="display-panel" class="panel">
  <div id="display">
    <div class="inner">
      <canvas id="sandbox" width="450" height="250">
        <span data-l10n-id="no-canvas">Your browser does not support the canvas element - sorry!</span>
      </canvas>
      <canvas id="turtle" width="450" height="250"></canvas>
      <div id="overlay"></div>
      <div id="error"></div>
    </div>
  </div>
</div>

<div class="chatbot-container">
  <div id="chat-log"></div>
  <input type="text" id="user-input" placeholder="Exemple : activity1 " autocomplete="off" />
</div>

<script>
  // JSON database
  var database = {
    "activity1": {
      "title": "Activité 1",
      "description": "Bonjour, je suis Logo et je peux t'aider à réaliser de superbes choses. Permets-moi tout d'abord de te faire découvrir l'environnement et de t'expliquer : la boîte à droite est ma boîte de dessin. Au centre de la boîte de dessin, tu peux trouver la tortue. Tu peux contrôler la tortue à l'aide de commandes Logo. Avec ces commandes, tu peux utiliser la tortue pour dessiner de magnifiques formes. Tu saisis les commandes Logo dans la boîte située en dessous de la boîte de dessin, également appelée boîte de commande. Pour commencer à saisir des instructions, clique sur la souris à l'intérieur de la boîte de commande. Pour répéter les commandes précédentes, utilise les touches fléchées haut / bas du clavier. La première commande que tu apprendras permet de déplacer la tortue vers l'avant. Cette commande s'appelle simplement forward suivie d'un nombre. Le nombre indique la distance parcourue par la tortue vers l'avant. Essayons : Écris la commande forward 50."
    },
    "activity2": {
      "title": "Activity 2",
      "description": "This is the description for Activity 2."
    },
    // Add more activities to the database as needed
  };

  // Function to handle user input
  function handleUserInput() {
    var userInput = document.getElementById('user-input').value.trim();
    var chatLog = document.getElementById('chat-log');
    
    // Clear user input field
    document.getElementById('user-input').value = '';

    // Display user message in chat log
    var userMessage = document.createElement('div');
    userMessage.className = 'chat-message user-message';
    userMessage.textContent = userInput;
    chatLog.appendChild(userMessage);

    // Search for activity in the database
    var activity = database[userInput.toLowerCase()];
    if (activity) {
      // Display activity title and description in chat log
      var botMessageTitle = document.createElement('div');
      botMessageTitle.className = 'chat-message bot-message';
      botMessageTitle.textContent = "Titre: " + activity.title;
      chatLog.appendChild(botMessageTitle);

      var botMessageDescription = document.createElement('div');
      botMessageDescription.className = 'chat-message bot-message';
      botMessageDescription.textContent = "Description: " + activity.description;
      chatLog.appendChild(botMessageDescription);
    } else {
      // Display error message if activity not found
      var botMessage = document.createElement('div');
      botMessage.className = 'chat-message bot-message';
      botMessage.textContent = "Sorry, I couldn't find the activity you requested.";
      chatLog.appendChild(botMessage);
    }
  }

  // Event listener for user input
  document.getElementById('user-input').addEventListener('keydown', function(event) {
    if (event.key === 'Enter') {
      handleUserInput();
    }
  });
</script>

<div id="input-panel" class="panel">
  <!-- TODO: Make this a button or anchor -->
  <div id="run"><div data-l10n-id="ip-button-run" class="label">Run</div></div>
  <div id="stop"><div data-l10n-id="ip-button-stop" class="label">Stop</div></div>
  <div id="clear"><div data-l10n-id="ip-button-clear" class="label">Clear</div></div>
  <div id="input">
    <div class="inner">
      <div id="toggle">
        <span id="expand-label">&#x2197;</span>
        <span id="collapse-label">&#x2199;</span>
      </div>
      <textarea rows="1" cols="80" placeholder="Type your code here..." data-l10n-id="logo-ta-single-line" id="logo-ta-single-line"></textarea>
      <textarea rows="20" cols="80" placeholder="Type your code here..." data-l10n-id="logo-ta-multi-line" id="logo-ta-multi-line"></textarea>
    </div>
  </div>
</div>

<div id="sidebar-header" class="panel">
  <ul>
    <li><a data-l10n-id="sb-link-reference" id="sb-link-reference" href="#">Reference</a>
      <span class="linkdesc">&ndash; <span data-l10n-id="sb-link-text-reference">the Logo language</span></span>
    <li><a data-l10n-id="sb-link-library" id="sb-link-library" href="#">Library</a>
      <span class="linkdesc">&ndash; <span data-l10n-id="sb-link-text-library">your procedures</span></span>
    <li><a data-l10n-id="sb-link-history" id="sb-link-history" href="#">History</a>
      <span class="linkdesc">&ndash; <span data-l10n-id="sb-link-text-history">everything you've done here</span></span>
    <li><a data-l10n-id="sb-link-examples" id="sb-link-examples" href="#">Examples</a>
      <span class="linkdesc">&ndash; <span data-l10n-id="sb-link-text-examples">fun things to try out</span></span>
    <li><a data-l10n-id="sb-link-extras" id="sb-link-extras" href="#">Extras</a>
      <span class="linkdesc">&ndash; <span data-l10n-id="sb-link-text-extras">helpful utilities</span></span>
    <li><a data-l10n-id="sb-link-links" id="sb-link-links" href="#">Links</a>
      <span class="linkdesc">&ndash; <span data-l10n-id="sb-link-text-links">other Logo resources</span></span>
  </ul>
</div>

<div id="sidebar" class="panel examples">
  <div class="choice" id="history">
    <div style="text-align: center; padding: 5px">
      <a id="clearhistory" href="#" data-l10n-id="extras-clear-history">Clear History</a>
    </div>
    <div class="snippets"></div>
    <div class="placeholder" data-l10n-id="history-placeholder"y>
      Commands you enter will appear here so you can find, modify, and re-run them.
    </div>
  </div>
  <div class="choice" id="library">
    <div style="text-align: center; padding: 5px">
      <a id="clearlibrary" href="#" data-l10n-id="extras-clear-library">Clear Library</a>
    </div>
    <div class="snippets"></div>
  </div>
  <div class="choice" id="links" dir="ltr">

  </div>
  <div class="choice" id="extras">
    <ul>
      <li><a data-l10n-id="extras-download-library" id="savelibrary" href="#">Download Library</a></li>
      <li><a data-l10n-id="extras-download-drawing" id="screenshot" href="#">Download Drawing</a></li>
    </ul>
  </div>
</div>

<script src="Components/floodfill.js"></script>
<script src="Components/logo.js"></script>
<script src="Components/turtle.js"></script>
<script src="Components/dialog.js"></script>
<script src="Components/index_p.js"></script>
<script src="https://togetherjs.com/togetherjs-min.js"></script>

</body>
